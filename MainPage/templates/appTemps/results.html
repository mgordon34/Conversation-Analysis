{% extends 'appTemps/base.html' %}
{% block 'body' %}
{% load static %}

  <link rel="stylesheet" href="{% static "jquery-ui-1.12.1/jquery-ui.css"%}"/>
  <script src="{% static "jquery-ui-1.12.1/jquery-ui.js"%}" type="text/javascript"></script>
  <script src="{% static "comments.js"%}" type="text/javascript"></script>

<style>.draggable { cursor: pointer; float: right; clear: both; position: absolute; background-color: transparent; border: transparent}</style>


  <head>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script type="text/javascript">
{#            var trace1 = {#}
{#            x: [1, 2, 3, 4],#}
{#            y: [10, 15, 13, 17],#}
{#            type: 'scatter'#}
{#            };#}
{#            var trace2 = {#}
{#            x: [1, 2, 3, 4],#}
{#            y: [16, 5, 11, 9],#}
{#            type: 'scatter'#}
{#            };#}
{#            var data1 = [trace1, trace2];#}
{#            console.log(data1);#}
        window.onload = function() {
            if (document.getElementById("info").value == null) {
                console.log("not working");
            } else {
                var data = document.getElementById("info").value;
{#                    console.log(data);#}
{#                var i= 0;#}
{#                var outData = [];#}
{#                for (d in data) {#}
{#                    outData[i++] = JSON.parse(d);#}
{#                }#}
                var outData = JSON.parse(data);
                var layout = {
                    "showlegend":true,
                    "yaxis": {
                        "title": "<b>Trust<\/b>"
                    },
                    "xaxis": {
                        "title": "<b>Line Number<\/b>"
                    }
                };
{#                    console.log(outData);#}
                Plotly.newPlot('myDiv', [outData], layout);
            }
        }
    </script>
  </head>

  <div>
    <h2>Average Scores</h2>
    <p>compound: {{ score.0 }} </p>
    <p>negative: {{ score.1 }} </p>
    <p>neutral: {{ score.2 }} </p>
    <p>positive: {{ score.3 }} </p>
      <p>Conversation: {{ convo }} </p>
  </div>
  <div id="graph"></div>

  <div id="tagModal" class="modal fade dialog-text" role="dialog">
    <div class="modal-dialog">

      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Edit Tag Comment</h4>
        </div>
        <div class="modal-body">
          <input id="modalInput" type="text" class="form-control" value="Edit tag here">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button id="modalSubmit" type="button" class="btn btn-primary">Save</button>
        </div>
      </div>

    </div>
  </div>

    {% load static %}
    <script src='{% static "tags.js" %}'></script>
    <body>

        <div id="myDiv" style="width: 480px; height: 400px;"><!-- Plotly chart will be drawn inside this DIV --></div>
        <input id="info" value={{ arr.1 }}> </input>
    </body>
    <div id="container" class="ui-widget-content" style=border:transparent></div>
  <input id="clickMe" type="button" value="clickme" onclick="comment();" />
    <div id='TextBoxesGroup' class='draggable ui-widget-content' style=></div>
{% endblock %}
